(function(t){function e(e){for(var a,r,c=e[0],o=e[1],u=e[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},s={app:0},i=[];function c(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"40ee0c25"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n={about:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"38c4ed23"}[t]+".css",s=o.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===s))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],f.parentNode.removeChild(f),n(i)},f.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[t]=0})));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=c(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}s[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0955":function(t,e,n){"use strict";n("6fc8")},"36cd":function(t,e,n){"use strict";n("66e2")},"3dca":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r}));var a={fullBrand:"Полная оклейка (легковые)",RearWindowSticker:"Реклама на заднем стекле",cargoFullBrand:"Полная оклейка (грузовые)",cargoBodyBrand:" Реклама на кузове (грузовые)",cargoCabinBrand:"Реклама на кабине (грузовые)"},r={id:"id",type:"Тип",country:"Страна",city:"Город"}},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="4678"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,r,s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n(t.layout+"-layout",{tag:"component"}),t.notify.length?n("div",{staticClass:"alerts"},t._l(t.notify,(function(e){return n("v-alert",{key:e.id,attrs:{type:e.type}},[t._v(" "+t._s(t.getNotifyMessage(e.message))+" ")])})),1):t._e()],1)},c=[],o={"auth/user-not-found":"Пользователь не найден","auth/user-disabled":"Пользователь заблокирован","auth/user-token-expired":"Истек срок действия токена","auth/email-already-in-use":"Пользователь уже зарегистрирован","auth/invalid-email":"Адрес электронной почты недействителен","auth/weak-password":"Пароль ненадежный","auth/successful-login":"Вы успешно вошли в систему","auth/successful-exit":"Вы успешно вышли из системы","auth/successful-register":"Регистрация прошла успешно"},u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-layout d-flex"},[n("app-drawer"),n("v-main",{staticClass:"main__wrap"},[n("app-header"),n("router-view")],1)],1)},l=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{permanent:"",dark:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-h6"},[n("v-img",{attrs:{src:"https://taximaxim.com/images/logo_nr.svg","max-height":"50","max-width":"100"}})],1),n("v-list-item-title",[t._v(" branding cars ")])],1)],1),n("v-divider"),n("v-list",{attrs:{dense:""}},t._l(t.accessibleMenu,(function(e){return n("div",{key:e.title},[e.child?[n("v-list-group",{attrs:{"prepend-icon":e.icon,"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-title",[t._v(t._s(e.title))])]},proxy:!0}],null,!0),model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},t._l(e.child,(function(e){return n("router-link",{key:e.title,attrs:{to:{name:e.link}}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-item-title",[t._v(t._s(e.title))])],1)],1)})),1)]:n("router-link",{attrs:{to:{name:e.link}}},[n("v-list-item",{attrs:{link:""}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(e.icon))])],1),n("v-list-item-title",[t._v(t._s(e.title))])],1)],1)],2)})),0)],1)},f=[],p=n("5530"),b=(n("4de4"),n("d3b7"),n("2f62")),g={name:"app-drawer",data:function(){return{drawer:!0,selectedItem:1,menu:[{title:"Главная",icon:"mdi-view-dashboard",link:"Home",access:"user"},{title:"Брендирование",icon:"mdi-car-door",link:"Branding",access:"user",child:[{title:"По странам",icon:"mdi-checkbox-blank-circle",link:"BrandingByCountry",access:"user"},{title:"Топы",icon:"mdi-checkbox-blank-circle",link:"TopBranding",access:"user"}]},{title:"Доступ",icon:"mdi-lock-open-outline",link:"AccessSettings",access:"admin"},{title:"О программе",icon:"mdi-help-box",link:"About",access:"user"}]}},computed:Object(p["a"])(Object(p["a"])({},Object(b["c"])(["currentUser"])),{},{accessibleMenu:function(){var t=this;return this.menu.filter((function(e){return"admin"!==t.currentUser.role?"admin"!==e.access:e}))}})},m=g,h=(n("6a3b"),n("2877")),y=Object(h["a"])(m,d,f,!1,null,"2d803a56",null),v=y.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{dense:"",dark:"",color:"#363636"}},[n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$router.push({name:"Profile"})}}},[n("v-avatar",{attrs:{color:"primary",size:"30"}},[n("v-icon",{attrs:{dark:""}},[t._v(" mdi-account-circle ")])],1)],1),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{dark:"",icon:""}},"v-btn",r,!1),a),[n("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[n("v-list",t._l(t.items,(function(e,a){return n("v-list-item",{key:a,attrs:{link:""}},[n("v-list-item-title",{on:{click:function(n){return t.action(e.action)}}},[t._v(" "+t._s(e.title))])],1)})),1)],1)],1)},B=[],k=n("1da1"),w=(n("96cf"),{data:function(){return{items:[{title:"Настройки"},{title:"Выход",action:"logout"}]}},methods:{action:function(t){switch(t){case"logout":this.logout();break;default:break}},logout:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("logout");case 3:t.$router.push("/login"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}}),C=w,x=Object(h["a"])(C,j,B,!1,null,"51828906",null),D=x.exports,_={name:"MainLayout",components:{appDrawer:v,appHeader:D}},O=_,T=(n("0955"),Object(h["a"])(O,u,l,!1,null,"5dc523ab",null)),S=T.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"empty"},[n("router-view")],1)},R=[],L={},U=L,A=(n("e967"),Object(h["a"])(U,E,R,!1,null,null,null)),z=A.exports,F={name:"App",components:{MainLayout:S,EmptyLayout:z},computed:{layout:function(){return this.$route.meta.layout||"empty"},notify:function(){return this.$store.getters.notify}},methods:{getNotifyMessage:function(t){return o[t]}}},I=F,$=(n("034f"),Object(h["a"])(I,i,c,!1,null,null,null)),M=$.exports,P=(n("3ca3"),n("ddb0"),n("b0c0"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("8c4f")),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-overlay",{attrs:{value:t.loading,absolute:!0,"z-index":7}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),n("v-container",[n("h2",{staticClass:"text-white"},[t._v('Топы по типу "Полная оклейка"')]),n("div",{staticClass:"cards-statistics my-5"},[n("v-card-statistic",{attrs:{title:"Топ-3 за неделю",subtitle:"Полная оклейка (легковые)",data:t.getFullBrandingTop3,width:300}}),n("v-card-statistic",{attrs:{title:"Анти-топ-3 за неделю",subtitle:"Полная оклейка (легковые)",data:t.getFullBrandingAntiTop3,width:300}}),n("v-card-statistic",{attrs:{title:"Топ-3 за месяц",subtitle:"по городам",data:t.getMonthBrandingTop3,width:300}}),n("v-card-statistic",{attrs:{title:"Анти-топ-3 за месяц",subtitle:"по городам",data:t.getMonthBrandingAntiTop3,width:300}})],1),n("h2",{staticClass:"text-white mb-5"},[t._v("Количество брендированных авто в странах")]),n("v-card",{staticClass:"card-statistic"},[n("v-carousel",{staticClass:"carousel-wrapper",attrs:{"hide-delimiters":""}},[n("v-carousel-item",[n("v-card-title",[t._v("Полная оклейка")]),t.loading?t._e():n("v-doughnut",{staticClass:"mb-5",attrs:{height:400,type:"fullBrand"}})],1),n("v-carousel-item",[n("v-card-title",[t._v("Наклейка на заднем стекле")]),t.loading?t._e():n("v-doughnut",{staticClass:"mb-5",attrs:{height:400,type:"RearWindowSticker"}})],1),n("v-carousel-item",[n("v-card-title",[t._v("Полная оклейка (грузовые)")]),t.loading?t._e():n("v-doughnut",{staticClass:"mb-5",attrs:{height:400,type:"cargoFullBrand"}})],1),n("v-carousel-item",[n("v-card-title",[t._v("Реклама на кузове")]),t.loading?t._e():n("v-doughnut",{staticClass:"mb-5",attrs:{height:400,type:"cargoBodyBrand"}})],1),n("v-carousel-item",[n("v-card-title",[t._v("Реклама на кабине")]),t.loading?t._e():n("v-doughnut",{attrs:{height:400,type:"cargoCabinBrand"}})],1)],1)],1),n("h2",{staticClass:"text-white my-5"},[t._v("Динамика брендирования")]),n("v-carousel",{staticClass:"carousel-wrapper mb-5",attrs:{"hide-delimiters":"",height:600}},t._l(t.getTypeBranding,(function(e){return n("v-carousel-item",{key:e},[n("v-card",{staticClass:"py-5"},[n("v-card-title",[t._v(t._s(t.typeBranding[e]))]),t.loading?t._e():n("v-line",{staticClass:"card-dynamics",attrs:{height:400,type:"Полная оклейка",chartData:t.getFormatedDataForLine(t.getTotalCarsByDate(e))}})],1)],1)})),1)],1)],1)},W=[],H=(n("fb6a"),n("1fca")),G={props:["type"],data:function(){return{}},computed:Object(p["a"])(Object(p["a"])({},Object(b["c"])(["getDateForDoughnutCharts"])),{},{getDataFromChart:function(){return this.getDateForDoughnutCharts(this.type)}}),extends:H["a"],mounted:function(){this.renderChart({labels:this.getDataFromChart.labels,datasets:this.getDataFromChart.datasets},{responsive:!0,maintainAspectRatio:!1,legend:{position:"right"}})}},K=G,q=Object(h["a"])(K,a,r,!1,null,null,null),Y=q.exports,J=n("6356"),V=n("781f"),Q=n("f95f"),X={name:"Home",components:{vDoughnut:Y,vCardStatistic:V["a"],vLine:J["a"]},mixins:[Q["a"]],data:function(){return{loading:!0,typeBranding:{fullBrand:"Полная оклейка (легковые)",RearWindowSticker:"Реклама на заднем стекле",cargoFullBrand:"Полная оклейка (грузовые)",cargoBodyBrand:" Реклама на кузове (грузовые)",cargoCabinBrand:"Реклама на кабине (грузовые)"}}},computed:Object(p["a"])(Object(p["a"])({},Object(b["c"])(["getTypeBranding","getTopBrandingDataByCity","getMonthTopBrandingDataByCity","getTotalCarsByDate"])),{},{getFullBrandingTop3:function(){return this.getTopBrandingDataByCity("fullBrand").slice(0,3)},getFullBrandingAntiTop3:function(){return this.getTopBrandingDataByCity("fullBrand").slice(-3).reverse()},getMonthBrandingTop3:function(){return this.getMonthTopBrandingDataByCity("fullBrand").slice(0,3)},getMonthBrandingAntiTop3:function(){return this.getMonthTopBrandingDataByCity("fullBrand").slice(-3).reverse()}}),mounted:function(){var t=this;return Object(k["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("getDataOfBrandingCars","");case 3:return e.next=5,t.$store.dispatch("getCarsByAllCity","fullBrand");case 5:return e.next=7,t.$store.dispatch("getCarsByAllCity","RearWindowSticker");case 7:return e.next=9,t.$store.dispatch("getLastDataByCountry","fullBrand");case 9:return e.next=11,t.$store.dispatch("getLastDataByCountry","RearWindowSticker");case 11:return e.next=13,t.$store.dispatch("getLastDataByCountry","cargoFullBrand");case 13:return e.next=15,t.$store.dispatch("getLastDataByCountry","cargoCabinBrand");case 15:return e.next=17,t.$store.dispatch("getLastDataByCountry","cargoBodyBrand");case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e)})))()}},Z=X,tt=(n("cccb"),Object(h["a"])(Z,N,W,!1,null,null,null)),et=tt.exports,nt=(n("6062"),n("159b"),n("b64b"),n("a630"),n("4e82"),n("bc3a")),at=n.n(nt),rt=at.a.create({baseURL:"https://ads-on-cars-e195e-default-rtdb.firebaseio.com/"}),st=["type","id_type","country","city"],it={getDataOfBrandingCars:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,n.prev=1,n.next=4,rt.get("brandData/".concat(e,".json"));case 4:return r=n.sent,s=r.data,a("setBrandingDataToState",s),n.abrupt("return",s);case 10:n.prev=10,n.t0=n["catch"](1),console.log("e",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},getLastDataByCountry:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,c,o,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=t.getters,n.next=3,r["brandingDataByType"](e);case 3:for(l in s=n.sent,i=[],c=new Set,o=["type","id_type","country","city"],Object.keys(s).forEach((function(t){var e={country:s[t].country,data:[]};c.add(s[t].country),Object.keys(s[t]).forEach((function(n){o.includes(n)||e.data.push(s[t][n])})),i.push(e)})),c=Array.from(c),u={},c.forEach((function(t){null!==u&&void 0!==u&&u[t]||(u[t]=[])})),i.forEach((function(t){null!==u&&void 0!==u&&u[t.country]&&u[t.country].push(t.data[t.data.length-1])})),u)u[l]=u[l].reduce((function(t,e){return t+e}),0);return a("setLastBrandingDataByCountries",{type:e,typeBrand:u}),n.abrupt("return",u);case 15:case"end":return n.stop()}}),n)})))()},getTotalCarsByDate:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.getters,n.next=3,a["brandingDataByType"](e);case 3:for(c in r=n.sent,s=[],i={},r[1])st.includes(c)||s.push(c);return s.forEach((function(t){null!==i&&void 0!==i&&i[t]||(i[t]=[])})),Object.keys(r).forEach((function(t){for(var e in r[t])e in i&&i[e].push(r[t][e])})),Object.keys(i).forEach((function(t){i[t]=i[t].reduce((function(t,e){return t+e}),0)})),n.abrupt("return",i);case 11:case"end":return n.stop()}}),n)})))()},getAllCityByCountries:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,n.next=3,a("getDataOfBrandingCars",e);case 3:for(r=n.sent,s=new Set([]),i=[],Object.keys(r).forEach((function(t){s.add(r[t].country),i.push(Object(p["a"])({id:t},r[t]))})),s=Array.from(s),c={},o=0;o<s.length;o++)c[s[o]]=[];return i.forEach((function(t){c[t.country].push({country:t.country,city:t.city,id:t.id}),c[t.country].sort((function(t,e){return t.city>e.city}))})),n.abrupt("return",c);case 12:case"end":return n.stop()}}),n)})))()},getCarsByAllCity:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=t.getters,n.next=3,r["brandingDataByType"](e);case 3:return s=n.sent,i=[],Object.keys(s).forEach((function(t){var e={id:t,type:s[t].type,country:s[t].country,city:s[t].city,dates:[],data:[]};for(var n in s[t])st.includes(n)||(e.dates.push(n),e.data.push(s[t][n]));i.push(e)})),a("setBrandCarByCityToState",{brand:i,type:e}),n.abrupt("return",i);case 8:case"end":return n.stop()}}),n)})))()}},ct={setBrandingDataToState:function(t,e){Object.keys(e).forEach((function(n){t.brandingData[n]=e[n]}))},setBrandCarByCityToState:function(t,e){t.brandingDataByType[e.type]=e.brand},setLastBrandingDataByCountries:function(t,e){t.lastBrandingDataByCountries[e.type]=e.typeBrand},clearBrandData:function(t){t.brandingData={},t.brandingDataByType={fullBrand:null,RearWindowSticker:null,cargoFullBrand:null,cargoCabinBrand:null,cargoBodyBrand:null},t.lastBrandingDataByCountries={}}},ot=(n("d81d"),n("3dca")),ut=["type","id_type","country","city"],lt={brandingData:function(t){return t.brandingData},brandingDataByType:function(t){return function(e){return t.brandingData[e]}},getTopBrandingDataByCity:function(t,e){return function(n){var a=[];return t.brandingDataByType[n]&&(t.brandingDataByType[n].forEach((function(t){a.push({flag:e.getCountries[t.country],city:t.city,country:t.country,dinamics:t.data[t.data.length-1]-t.data[t.data.length-2],startDate:t.dates[t.dates.length-2],endDate:t.dates[t.dates.length-1]})})),a.sort((function(t,e){return e.dinamics-t.dinamics}))),a}},getMonthTopBrandingDataByCity:function(t,e){return function(n){var a=[];return t.brandingDataByType[n]&&(t.brandingDataByType[n].forEach((function(t){var n=t.dates.map((function(t){return new Date(t).getDate()})),r=n.lastIndexOf(1),s=n.lastIndexOf(1,r-1);a.push({flag:e.getCountries[t.country],city:t.city,country:t.country,dinamics:t.data[r]-t.data[s],startDate:t.dates[s],endDate:t.dates[r]})})),a.sort((function(t,e){return e.dinamics-t.dinamics}))),a}},getlastBrandingDataByCountries:function(t){return t.lastBrandingDataByCountries},getDateForDoughnutCharts:function(t,e){return function(n){var a=t.lastBrandingDataByCountries[n],r=[],s=[{label:n,data:[],backgroundColor:[]}],i=e["getColors"];return Object.keys(a).forEach((function(t,e){a[t]&&(r.push(t),s[0].data.push(a[t]),s[0].backgroundColor.push(i[e]))})),{labels:r,datasets:s}}},getDataByCountry:function(t,e){var n=["type","id_type","country","city"],a=e["availableCities"],r=e["availableCountries"],s=e["getTypeBranding"],i=t.brandingData,c={};return r.forEach((function(t){c[t]={},s.forEach((function(e){c[t][e]=[]}))})),void 0!==s&&s.forEach((function(t){var e=i[t];void 0!==e&&Object.keys(e).forEach((function(t){if(a.includes(t)){var r={id:t,type:e[t].type,country:e[t].country,city:e[t].city};for(var s in e[t])n.includes(s)||1===new Date(s).getDate()&&(r[s]=e[t][s]);c[r.country][r.type].push(Object(p["a"])(Object(p["a"])({},r),{},{type:ot["b"][r.type]}))}}))})),c},getDataByCity:function(t,e){return function(n){var a=t.brandingData,r=e["getTypeBranding"],s=[],i=["id","type","id_type","country","city"];return r.forEach((function(t){if(void 0!==a[t][n]){var e=Object(p["a"])(Object(p["a"])({id:n},a[t][n]),{},{type:ot["b"][t],fieldsKeys:["type"]});Object.keys(a[t][n]).forEach((function(t){i.includes(t)||e.fieldsKeys.push(t)})),s.push(e)}})),s}},getDataByCountryByMonths:function(t,e){return function(t){var n=["id","type","id_type","country","city"],a={};if(null!==t){var r=e["getDataByCountry"][t];void 0!==r&&Object.keys(r).forEach((function(t){a[t]={},r[t].forEach((function(e){Object.keys(e).forEach((function(r){n.includes(r)||(void 0===a[t][r]?(a[t][r]=[]).push(e[r]):a[t][r].push(e[r]))}))})),Object.keys(a[t]).forEach((function(e){a[t][e]=a[t][e].reduce((function(t,e){return t+e}),0)}))}))}return a}},getTotalCarsByDate:function(t,e){return function(t){var n=e["brandingDataByType"](t),a=[],r={};for(var s in n[1])ut.includes(s)||a.push(s);return a.forEach((function(t){null!==r&&void 0!==r&&r[t]||(r[t]=[])})),Object.keys(n).forEach((function(t){for(var e in n[t])e in r&&r[e].push(n[t][e])})),Object.keys(r).forEach((function(t){r[t]=r[t].reduce((function(t,e){return t+e}),0)})),r}}},dt={state:{brandingData:{},brandingDataByType:{fullBrand:null,RearWindowSticker:null,cargoFullBrand:null,cargoCabinBrand:null,cargoBodyBrand:null},lastBrandingDataByCountries:{}},mutations:ct,actions:it,getters:lt},ft={state:{countries:{"Азербайджан":"az","Армения":"am","Беларусь":"by","Бразилия":"br","Вьетнам":"vn","Грузия":"ge","Индия":"in","Индонезия":"id","Иран":"ir","Казахстан":"kz","Колумбия":"co","Малайзия":"my","Перу":"pe","Россия":"ru","Таджикистан":"tj","Украина":"ua","Филиппины":"ph","Чили":"cl"},colors:["IndianRed","GreenYellow","Aquamarine","Plum","LightSlateGray","Coral","LightSeaGreen","Orange","SteelBlue","BlueViolet","Crimson","SpringGreen","Gold","Indigo","NavajoWhite","PaleGreen","PaleVioletRed","Khaki"],typeBranding:["fullBrand","RearWindowSticker","cargoFullBrand","cargoCabinBrand","cargoBodyBrand"]},getters:{getCountries:function(t){return t.countries},getColors:function(t){return t.colors},getTypeBranding:function(t){return t.typeBranding}}},pt=n("ea7b"),bt={state:{token:localStorage.getItem("token")||null,user:{},uid:localStorage.getItem("uid")||null},mutations:{setTokenToState:function(t,e){var n=e.accessToken;t.token=n,localStorage.setItem("token",n)},setUserToState:function(t,e){t.user=e,localStorage.setItem("uid",e.uid)},removeUser:function(t){t.token=null,t.user={},localStorage.removeItem("token"),localStorage.removeItem("uid")}},actions:{registerNewUser:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.dispatch,r=e.email,s=e.password,n.prev=2,i=Object(pt["c"])(),n.next=6,Object(pt["b"])(i,r,s);case 6:return c=n.sent,o=c.user,n.next=10,rt.put("users/".concat(o.uid,".json"),{uid:o.uid,email:r,login:r.slice(0,r.indexOf("@")),role:"user",access:0});case 10:a("notifyUser",{type:"success",message:"auth/successful-register"}),n.next=17;break;case 13:throw n.prev=13,n.t0=n["catch"](2),a("notifyUser",{type:"error",message:n.t0.code}),n.t0;case 17:case"end":return n.stop()}}),n,null,[[2,13]])})))()},login:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i,c,o,u,l,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=t.dispatch,s=e.email,i=e.password,n.prev=2,c=Object(pt["c"])(),n.next=6,Object(pt["e"])(c,s,i);case 6:return o=n.sent,u=o.user,n.next=10,rt.get("users/".concat(u.uid,".json"));case 10:l=n.sent,d=l.data,a("setTokenToState",u),a("setUserToState",d),r("notifyUser",{type:"success",message:"auth/successful-login"}),n.next=21;break;case 17:throw n.prev=17,n.t0=n["catch"](2),r("notifyUser",{type:"error",message:n.t0.code}),n.t0;case 21:case"end":return n.stop()}}),n,null,[[2,17]])})))()},logout:function(t){return Object(k["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.dispatch,e.prev=1,r=Object(pt["c"])(),e.next=5,Object(pt["f"])(r);case 5:n("removeUser"),n("clearBrandData"),a("notifyUser",{type:"success",message:"auth/successful-exit"}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),a("notifyUser",{type:"error",message:e.t0.code||"Неизвестная ошибка"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},getters:{isAuth:function(t){return!!t.token},currentUser:function(t){return t.user},currentUID:function(t){return t.uid}}},gt={state:{userList:[]},mutations:{setUserListToState:function(t,e){t.userList=e},updateUserDataInState:function(t,e){t.userList=t.userList.map((function(t){return t.uid===e.uid?(t=e,t):t}))}},actions:{getUserList:function(t){return Object(k["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,rt.get("users.json");case 3:a=e.sent,r=a.data,s=[],Object.keys(r).forEach((function(t){s.push(Object(p["a"])(Object(p["a"])({},r[t]),{},{access:r[t].access?r[t].access:[]}))})),n("setUserListToState",s);case 8:case"end":return e.stop()}}),e)})))()},getCurrentUser:function(t){return Object(k["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.getters,e.next=3,a.currentUID;case 3:if(r=e.sent,!r){e.next=11;break}return e.next=7,rt.get("users/".concat(r,".json"));case 7:s=e.sent,i=s.data,i.access=i.access?i.access:[],n("setUserToState",i);case 11:case"end":return e.stop()}}),e)})))()},updateUserData:function(t,e){return Object(k["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,n.prev=1,n.next=4,rt.patch("users/".concat(e.uid,".json"),e);case 4:a("updateUserDataInState",e),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()}},getters:{userList:function(t){return t.userList},availableCountries:function(t,e){return Array.from(new Set(e.currentUser.access.map((function(t){return t.country}))))},availableCities:function(t,e){return Array.from(new Set(e.currentUser.access.map((function(t){return t.id}))))}}};function mt(){var t=0;return function(){return t++}}var ht=mt(),yt={state:{notify:[]},mutations:{setNotify:function(t,e){t.notify.push(e)},removeNotify:function(t){t.notify.pop()}},actions:{notifyUser:function(t,e){var n=t.commit,a=ht();n("setNotify",Object(p["a"])({id:a},e)),setTimeout((function(){n("removeNotify",Object(p["a"])({id:a},e))}),5e3)}},getters:{notify:function(t){return t.notify}}};s["default"].use(b["a"]);var vt=new b["a"].Store({modules:[dt,ft,bt,gt,yt]}),jt=vt;s["default"].use(P["a"]);var Bt=new P["a"]({mode:"history",routes:[{path:"/",name:"Home",component:et,meta:{layout:"main",auth:!0,role:"user"}},{path:"/branding_by_country",name:"BrandingByCountry",component:function(){return n.e("about").then(n.bind(null,"d935"))},meta:{layout:"main",auth:!0,role:"user"}},{path:"/branding_by_city/:id",name:"BrandingByCity",component:function(){return n.e("about").then(n.bind(null,"1664"))},meta:{layout:"main",auth:!0,role:"user"}},{path:"/top_branding",name:"TopBranding",component:function(){return n.e("about").then(n.bind(null,"2db9"))},meta:{layout:"main",auth:!0,role:"user"}},{path:"/login",name:"Login",component:function(){return n.e("about").then(n.bind(null,"a55b"))},meta:{layout:"empty",auth:!1,role:"user"}},{path:"/registration",name:"Registration",component:function(){return n.e("about").then(n.bind(null,"3fd1"))},meta:{layout:"empty",auth:!1,role:"user"}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))},meta:{layout:"main",auth:!1,role:"user"}},{path:"/access_settings",name:"AccessSettings",component:function(){return n.e("about").then(n.bind(null,"2c3e"))},meta:{layout:"main",auth:!0,role:"admin"}},{path:"/profile",name:"Profile",component:function(){return n.e("about").then(n.bind(null,"c66d"))},meta:{layout:"main",auth:!0,role:"user"}}]});Bt.beforeEach(function(){var t=Object(k["a"])(regeneratorRuntime.mark((function t(e,n,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.matched.some((function(t){return t.meta.auth}))){t.next=25;break}if(!jt.getters.isAuth){t.next=22;break}return t.next=4,jt.dispatch("getCurrentUser");case 4:if("admin"===e.meta.role){t.next=15;break}t.t0=e.name,t.next="BrandingByCity"===t.t0?8:10;break;case 8:return jt.getters.availableCities.includes(String(e.params.id))?a():Bt.replace("/"),t.abrupt("break",12);case 10:return a(),t.abrupt("return");case 12:return t.abrupt("return");case 15:if("admin"!==e.meta.role||"admin"!==jt.getters.currentUser.role){t.next=20;break}return a(),t.abrupt("return");case 20:return a("/"),t.abrupt("return");case 22:a("/login"),t.next=26;break;case 25:a();case 26:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}());var kt=Bt,wt=n("9145"),Ct=n.n(wt),xt=(n("a0f0"),n("260b")),Dt=n("ce5b"),_t=n.n(Dt);s["default"].use(_t.a);var Ot={},Tt=new _t.a(Ot),St=(n("bf40"),n("d644")),Et=n("1a08");n("42a7");s["default"].use(St["a"],{plugins:[Et["b"]],locale:"ru"}),s["default"].config.productionTip=!1,s["default"].use(Ct.a),Object(xt["a"])({apiKey:"".concat("AIzaSyDSMCuARRsfagl5_QaKCEvpDAW-BHJ4vHY"),authDomain:"".concat("ads-on-cars-e195e.firebaseapp.com"),databaseURL:"".concat("https://ads-on-cars-e195e-default-rtdb.firebaseio.com"),projectId:"".concat("ads-on-cars-e195e"),storageBucket:"".concat("ads-on-cars-e195e.appspot.com"),messagingSenderId:"".concat("797844828666"),appId:"".concat("1:797844828666:web:2f366fa23ff35d5f49f443"),measurementId:"".concat("G-3XH1JWYT8N")});var Rt=Object(pt["c"])();Object(pt["d"])(Rt,pt["a"]);var Lt=new s["default"]({router:kt,store:jt,vuetify:Tt,render:function(t){return t(M)}});Lt.$mount("#app")},"5ced":function(t,e,n){},6356:function(t,e,n){"use strict";var a,r,s=n("1fca"),i=s["c"].reactiveProp,c={mixins:[i],props:["chartData"],extends:s["b"],watch:{chartData:function(){this.$data._chart.update()}},mounted:function(){this.renderChart(this.chartData,{responsive:!0,maintainAspectRatio:!1,legend:{position:"bottom"}})}},o=c,u=n("2877"),l=Object(u["a"])(o,a,r,!1,null,null,null);e["a"]=l.exports},"66e2":function(t,e,n){},"6a3b":function(t,e,n){"use strict";n("ae59")},"6fc8":function(t,e,n){},"781f":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{elevation:"2",width:t.width}},[t.data.length?[n("v-card-title",[t._v(t._s(t.title))]),n("v-card-subtitle",[t._v(t._s(t.subtitle))]),n("v-card-text",[n("div",{staticClass:"mb-2"},[n("span",{staticClass:"pr-5"},[t._v("Начало:")]),n("v-chip",{attrs:{color:"green",outlined:"",small:""}},[t._v(t._s(new Date(t.data[0].startDate).toLocaleString("ru",t.options)))])],1),n("div",[n("span",{staticClass:"pr-5"},[t._v("Конец:")]),n("v-chip",{attrs:{color:"green",outlined:"",small:""}},[t._v(t._s(new Date(t.data[0].endDate).toLocaleString("ru",t.options)))])],1)]),n("v-list",{attrs:{dense:""}},t._l(t.data,(function(e,a){return n("v-list-item",{key:a},[n("v-list-item-icon",[n("img",{staticClass:"flag",attrs:{src:"flags/1x1/"+e.flag+".svg",alt:""}})]),n("div",{staticClass:"list-item-text d-flex justify-space-between align-center"},[n("p",{domProps:{textContent:t._s(e.city)}}),n("p",{staticClass:"text-h5 text--secondary"},[t._v(t._s(e.dinamics))])])],1)})),1)]:n("v-skeleton-loader",{attrs:{type:"card","max-width":t.width}})],2)},r=[],s={name:"vCardStatistic",props:["title","subtitle","data","width"],data:function(){return{options:{year:"numeric",month:"long",day:"numeric"}}}},i=s,c=(n("36cd"),n("2877")),o=Object(c["a"])(i,a,r,!1,null,null,null);e["a"]=o.exports},"85ec":function(t,e,n){},ae59:function(t,e,n){},c67e:function(t,e,n){},cccb:function(t,e,n){"use strict";n("5ced")},e967:function(t,e,n){"use strict";n("c67e")},f95f:function(t,e,n){"use strict";n("d3b7"),n("159b"),n("b64b");e["a"]={data:function(){return{labels:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]}},methods:{getFormatedDataForLine:function(t,e){var n=null;n=e?t[e]:t;var a=[{label:"2020",data:[],borderColor:"IndianRed",fill:!1},{label:"2021",data:[],borderColor:"SteelBlue",fill:!1}];return void 0!==n&&Object.keys(n).forEach((function(t){2020===new Date(t).getFullYear()&&1===new Date(t).getDate()?a[0].data.push(n[t]):2021===new Date(t).getFullYear()&&1===new Date(t).getDate()&&a[1].data.push(n[t])})),{labels:this.labels,datasets:a}}}}}});
//# sourceMappingURL=app.02e24ef7.js.map